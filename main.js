(()=>{"use strict";function e(e){const t=[];return{title:e,taskarray:t,addTask:function(e){t.push(e),e.id=t.indexOf(e)},deleteTask:function(e){const n=t.indexOf(e);t.splice(n,1)}}}function t(e){let t=document.querySelector("table");for(let n=t.rows.length;n<e.taskarray.length;n++){let a=t.insertRow(n);a.setAttribute("data-index",n),a.classList.add("row"),a.insertCell(0).innerHTML='\n        <label for="accept">\n            <input type="checkbox" id="check" name="check" value="yes"></input>\n        </label>';let i=a.insertCell(1);i.innerHTML=e.taskarray[n].title,i.classList.add("tb");let s=a.insertCell(2);s.innerHTML=e.taskarray[n].importance,s.classList.add("tb");let l=a.insertCell(3);l.innerHTML=e.taskarray[n].dueDate,l.classList.add("tb");let r=document.createElement("button");r.innerText="Details",r.classList.add("details"),a.insertCell().appendChild(r);let d=document.createElement("button");d.innerText="edit",d.classList.add("edit-button"),a.insertCell().appendChild(d);let o=document.createElement("button");o.innerText="X",o.classList.add("delete-button"),a.insertCell().appendChild(o)}}const n=document.querySelector(".project-list");function a(e){for(let t=document.querySelectorAll(".project-list div").length;t<e.length;t++){let a=document.createElement("div");a.innerText=e[t].title,a.classList.add("project_element"),a.setAttribute("data-index",t),n.appendChild(a);let i=document.createElement("button");i.innerText="X",i.classList.add("delete-button-project"),a.appendChild(i)}}function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){i(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===s(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function r(e){i(1,arguments);var t=l(e);return t.setHours(0,0,0,0),t}function d(e){return i(1,arguments),function(e,t){i(2,arguments);var n=r(e),a=r(t);return n.getTime()===a.getTime()}(e,Date.now())}var o={};function c(){return o}function u(e,t){var n,a,s,r,d,o,u,p;i(1,arguments);var m=c(),y=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(null!==(n=null!==(a=null!==(s=null!==(r=null==t?void 0:t.weekStartsOn)&&void 0!==r?r:null==t||null===(d=t.locale)||void 0===d||null===(o=d.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==s?s:m.weekStartsOn)&&void 0!==a?a:null===(u=m.locale)||void 0===u||null===(p=u.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=l(e),g=v.getDay(),f=(g<y?7:0)+g-y;return v.setDate(v.getDate()-f),v.setHours(0,0,0,0),v}function p(e,t){return i(1,arguments),function(e,t,n){i(2,arguments);var a=u(e,n),s=u(t,n);return a.getTime()===s.getTime()}(e,Date.now(),t)}const m=document.querySelector(".open_menu"),y=document.querySelector(".menu"),v=document.querySelector(".main-place");m.addEventListener("click",(()=>{y.classList.toggle("open"),v.classList.toggle("open"),console.log(v.classList)})),function(){const n=document.querySelector(".create-project");n.classList.add("addPage");const i=document.querySelector(".modal-project"),s=document.querySelector(".project-list"),r=document.querySelector(".close-modal-task"),o=document.querySelector(".close-modal-project"),c=document.querySelector(".main-place"),u=document.querySelector(".default"),m=document.querySelector(".form-project"),y=document.querySelector(".modal-task"),v=document.querySelector(".form-task"),g=document.querySelector("table");let f=document.createElement("div");f.classList.add("project-header-place");const k=document.createElement("button");k.innerText="+",k.classList.add("addPage"),c.appendChild(f),c.appendChild(k),k.style.visibility="hidden",c.appendChild(g);let L=" ",b=!1;const T=document.querySelector(".add"),h=document.querySelector("#allTasks"),S=document.querySelector(".today"),E=document.querySelector(".thisWeek"),q=document.querySelector(".important");h.classList.add("active");const w=e("All tasks"),H=e("today"),D=e("This week"),M=e("important"),x=[];let N=w;function j(){i.style.display="none",m.reset()}function C(){y.style.display="none",v.reset()}a(x),t(N),f.innerHTML="All Tasks",k.style.visibility="visible",u.addEventListener("click",(function(e){e.target.classList.contains("all")&&(f.innerHTML=" ",g.innerHTML=" ",k.style.visibility="visible",e.target==h||e.target.parentElement==h?(t(w),document.querySelector(".active").classList.remove("active"),h.classList.add("active"),f.innerHTML="All Tasks"):e.target==S||e.target.parentElement==S?(t(H),k.style.visibility="hidden",document.querySelector(".active").classList.remove("active"),S.classList.add("active"),f.innerHTML="Today"):e.target==E||e.target.parentElement==E?(t(D),k.style.visibility="hidden",document.querySelector(".active").classList.remove("active"),E.classList.add("active"),f.innerHTML="This week"):e.target!=q&&e.target.parentElement!=q||(t(M),k.style.visibility="hidden",document.querySelector(".active").classList.remove("active"),q.classList.add("active"),f.innerHTML="Important"))})),n.addEventListener("click",(()=>{i.style.display="block"})),o.addEventListener("click",j),i.addEventListener("submit",(t=>{t.preventDefault();const n=e(document.getElementById("title").value);x.push(n),n.id=x.indexOf(n),a(x),j()})),s.addEventListener("click",(function(e){if(e.target.classList.contains("delete-button-project")){const n=e.target.parentNode.getAttribute("data-index"),a=x.find((e=>e.id==n)),i=x.indexOf(a);N==a&&(f.innerHTML=" ",g.innerHTML=" ",f.innerHTML="All Tasks",N=w,t(N)),x.splice(i,1),e.target.parentNode.remove()}else if(e.target.classList.contains("project_element")){const n=e.target.getAttribute("data-index");f.innerHTML=" ",g.innerHTML=" ",document.querySelector(".active").classList.remove("active"),e.target.classList.add("active"),N=x.find((e=>e.id==n)),f.innerText=N.title,k.style.visibility="visible",t(N)}})),k.addEventListener("click",(()=>{y.style.display="block"})),r.addEventListener("click",C),T.addEventListener("click",(e=>{if(e.preventDefault(),0==b){let e=document.getElementById("name").value,n=document.getElementById("description").value,a=document.getElementById("due-date").value,i=document.querySelector('input[name="importance"]:checked').value;const s={title:e,description:n,dueDate:a,importance:i};N.addTask(s),N!==w&&w.addTask(s);let r=l(new Date(a));d(r)&&H.addTask(s),p(r)&&D.addTask(s),"High"==i&&M.addTask(s),C(),t(N)}}));let A=document.createElement("div");A.classList.add="pop-up",c.appendChild(A),A.style.display="none",document.addEventListener("click",(function(e){if(e.target.classList.contains("popup__close")&&(A.style.display="none"),e.target.classList.contains("details")){const t=e.target.parentNode.parentNode.getAttribute("data-index");L=N.taskarray.find((e=>e.id==t)),function(e){A.style.display="block",A.innerHTML=`\n         <div class="popup">\n            <div class="popup__close">X</div>\n            <div class="popup__content">\n            \t<div class="popup title">${e.title}</div>\n            \t<div class="popup priority"><span>Priority: </span>${e.importance}</div>\n            \t<div class="popup due"><span>Due Date: </span>${e.dueDate}</div>\n            \t<div class="popup details"><span>Description: </span>${e.description}</div>\n            </div>\n        </div>\n         `}(L)}})),g.addEventListener("click",(e=>{if(e.target.classList.contains("edit-button")){b=!0,y.style.display="block";const t=e.target.parentNode.parentNode.getAttribute("data-index");L=N.taskarray.find((e=>e.id==t)),document.getElementById("name").value=L.title,document.getElementById("description").value=L.description,document.getElementById("due-date").value=L.dueDate,"High"==L.importance?document.formTask.importance[0].checked=!0:"Medium"==L.importance?document.formTask.importance[1].checked=!0:document.formTask.importance[2].checked=!0;let n=L.importance,a=l(new Date(L.dueDate));function i(){L.title=document.getElementById("name").value,L.description=document.getElementById("description").value,L.dueDate=document.getElementById("due-date").value,L.importance=document.querySelector('input[name="importance"]:checked').value,g.rows[t].cells[1].innerHTML=L.title,g.rows[t].cells[2].innerHTML=L.importance,g.rows[t].cells[3].innerHTML=L.dueDate;let e=l(new Date(L.dueDate));d(a)&&0==d(e)&&H.deleteTask(L),p(a)&&0==p(e)&&D.deleteTask(L),0==d(a)&&d(e)&&H.addTask(L),0==p(a)&&p(e)&&D.addTask(L),"High"==n&"High"!=L.importance&&M.deleteTask(L),"High"!=n&"High"==L.importance&&M.addTask(L),b=!1,C(),0==b&&T.removeEventListener("click",biseyler)}T.addEventListener("click",i)}})),g.addEventListener("click",(e=>{if(e.target.classList.contains("delete-button")){const t=e.target.parentNode.parentNode.getAttribute("data-index");L=N.taskarray.find((e=>e.id==t)),N.deleteTask(L),w.deleteTask(L),H.deleteTask(L),D.deleteTask(L),M.deleteTask(L),e.target.parentNode.parentNode.remove()}}))}()})();