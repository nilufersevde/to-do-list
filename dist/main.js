(()=>{"use strict";function e(e){const t=[];return{title:e,taskarray:t,addTask:function(e){t.push(e),e.id=t.indexOf(e)}}}function t(e){let t=document.querySelector("table");document.querySelector(".main-place");for(let n=t.rows.length;n<e.taskarray.length;n++){let i=t.insertRow(n);i.setAttribute("data-index",n),i.classList.add("row"),i.insertCell(0).innerHTML='\n        <label for="accept">\n            <input type="checkbox" id="check" name="check" value="yes"></input>\n        </label>';let l=i.insertCell(1);l.innerHTML=e.taskarray[n].title,l.classList.add("tb");let a=i.insertCell(2);a.innerHTML=e.taskarray[n].importance,a.classList.add("tb");let r=i.insertCell(3);r.innerHTML=e.taskarray[n].dueDate,r.classList.add("tb");let s=document.createElement("button");s.innerText="Details",s.classList.add("details"),i.insertCell().appendChild(s);let o=document.createElement("button");o.innerText="edit",o.classList.add("edit-button"),i.insertCell().appendChild(o);let d=document.createElement("button");d.innerText="X",d.classList.add("delete-button"),i.insertCell().appendChild(d)}}const n=document.querySelector(".project-list");function i(e){for(let t=document.querySelectorAll(".project-list div").length;t<e.length;t++){let i=document.createElement("div");i.innerText=e[t].title,i.classList.add("project_element"),i.setAttribute("data-index",t),n.appendChild(i);let l=document.createElement("button");l.innerText="X",l.classList.add("delete-button-project"),i.appendChild(l)}}function l(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e){l(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===a(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function s(e){l(1,arguments);var t=r(e);return t.setHours(0,0,0,0),t}var o={};function d(){return o}function c(e,t){var n,i,a,s,o,c,u,p;l(1,arguments);var v=d(),m=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(null!==(n=null!==(i=null!==(a=null!==(s=null==t?void 0:t.weekStartsOn)&&void 0!==s?s:null==t||null===(o=t.locale)||void 0===o||null===(c=o.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==a?a:v.weekStartsOn)&&void 0!==i?i:null===(u=v.locale)||void 0===u||null===(p=u.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=r(e),b=y.getDay(),f=(b<m?7:0)+b-m;return y.setDate(y.getDate()-f),y.setHours(0,0,0,0),y}!function(){const n=document.querySelector(".create-project"),a=document.querySelector(".modal-project"),o=document.querySelector(".project-list"),d=document.querySelector(".close-modal-task"),u=document.querySelector(".close-modal-project"),p=document.querySelector(".main-place"),v=document.querySelector(".default"),m=document.querySelector(".form-project"),y=document.querySelector(".modal-task"),b=document.querySelector(".form-task"),f=document.querySelector("table");let g=document.createElement("div");const k=document.createElement("button");k.innerText="+",p.appendChild(g),p.appendChild(k),k.style.visibility="hidden",p.appendChild(f);let L=" ",T=!1;const h=document.querySelector(".add");let S=document.getElementById("name").value,w=document.getElementById("description").value,E=document.getElementById("due-date").value;const D=e("All tasks"),H=e("today"),q=e("This week"),M=e("important"),x=[];let j=D;function C(){a.style.visibility="hidden",m.reset()}function N(){y.style.visibility="hidden",b.reset()}i(x),t(j),g.innerHTML="All Tasks",k.style.visibility="visible",v.addEventListener("click",(function(e){e.target.classList.contains("default-project")&&(g.innerHTML=" ",g.innerHTML=e.target.innerText,f.innerHTML=" ",k.style.visibility="visible","allTasks"==e.target.id?t(D):"today"==e.target.id?(t(H),k.style.visibility="hidden"):"thisWeek"==e.target.id?(t(q),k.style.visibility="hidden"):(t(M),k.style.visibility="hidden"))})),n.addEventListener("click",(()=>{a.style.visibility="visible"})),u.addEventListener("click",C),a.addEventListener("submit",(t=>{t.preventDefault();const n=e(document.getElementById("title").value);x.push(n),n.id=x.indexOf(n),i(x),C()})),o.addEventListener("click",(function(e){if(e.target.classList.contains("delete_button")){const n=e.target.parentNode.getAttribute("data-index"),i=x.find((e=>e.id==n)),l=x.indexOf(i);j==i&&(g.innerHTML=" ",f.innerHTML=" ",g.innerHTML="All Tasks",j=D,t(j)),x.splice(l,1),targetelement.remove()}else if(e.target.classList.contains("project_element")){const n=e.target.getAttribute("data-index");g.innerHTML=" ",f.innerHTML=" ",j=x.find((e=>e.id==n)),console.log(j),g.innerText=j.title,k.style.visibility="visible",t(j)}})),k.addEventListener("click",(()=>{y.style.visibility="visible"})),d.addEventListener("click",N),h.addEventListener("click",(e=>{if(e.preventDefault(),0==T){let e=document.querySelector('input[name="importance"]:checked').value;const n={title:S,description:w,dueDate:E,importance:e};j.addTask(n),j!==D&&D.addTask(n);let i=r(new Date(E));(function(e){return l(1,arguments),function(e,t){l(2,arguments);var n=s(e),i=s(t);return n.getTime()===i.getTime()}(e,Date.now())})(i)&&H.addTask(n),function(e,t){return l(1,arguments),function(e,t,n){l(2,arguments);var i=c(e,n),a=c(t,n);return i.getTime()===a.getTime()}(e,Date.now(),t)}(i)&&q.addTask(n),"High"==e&&M.addTask(n),N(),t(j)}}));let A=document.createElement("div");A.classList.add="pop-up",p.appendChild(A),A.style.visibility="hidden",document.addEventListener("click",(function(e){if(e.target.classList.contains("popup__close")&&(A.style.visibility="hidden"),e.target.classList.contains("details")){const t=e.target.parentNode.parentNode.getAttribute("data-index");L=j.taskarray.find((e=>e.id==t)),function(e){A.style.visibility="visible",A.innerHTML=`\n         <div class="popup">\n            <div class="popup__close">X</div>\n            <div class="popup__content">\n            \t<div class="popup title">${e.title}</div>\n            \t<div class="popup priority"><span>Priority: </span>${e.importance}</div>\n            \t<div class="popup due"><span>Due Date: </span>${e.dueDate}</div>\n            \t<div class="popup details"><span>Description: </span>${e.description}</div>\n            </div>\n        </div>\n         `}(L)}})),f.addEventListener("click",(e=>{if(e.target.classList.contains("edit-button")){edited=!0,y.style.visibility="visible";const t=e.target.parentNode.parentNode.getAttribute("data-index");L=j.taskarray.find((e=>e.id==t)),taskTitle.value=L.title,w.value=L.description,E.value=L.dueDate,h.addEventListener("click",(()=>{let e=document.querySelector('input[name="importance"]:checked').value;L.title=taskTitle.value,f.rows[t].cells[1].innerHTML=taskTitle.value,L.importance=e.value,f.rows[t].cells[2].innerHTML=e.value,L.dueDate=E.value,f.rows[t].cells[3].innerHTML=E.value,L.description=w.value,document.querySelector(".details").innerHTML=w.value,T=!1}))}}))}()})();