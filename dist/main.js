(()=>{"use strict";function e(e){let t=document.querySelector("table");for(let n=t.rows.length;n<e.taskarray.length;n++){let i=t.insertRow(n);i.setAttribute("data-index",n),console.log(i.getAttribute("data-index")),i.classList.add("row");let l=i.insertCell(0);l.innerHTML=e.taskarray[n].title,console.log(l.innerHTML),l.classList.add("tb");let c=i.insertCell(1);c.innerHTML=e.taskarray[n].importance,c.classList.add("tb");let d=i.insertCell(2);d.innerHTML=e.taskarray[n].dueDate,d.classList.add("tb");let r=document.createElement("button");r.innerText="X",r.classList.add("delete_button"),i.insertCell(3).appendChild(r),console.log(t.innerHTML)}}const t=document.querySelector(".project-list");function n(e){for(let n=document.querySelectorAll(".project-list div").length;n<e.length;n++){let i=document.createElement("div");i.innerText=e[n].title,i.classList.add("project_element"),i.setAttribute("data-index",n),t.appendChild(i);let l=document.createElement("button");l.innerText="X",l.classList.add("delete_button"),i.appendChild(l)}}!function(){const t=[],i=document.querySelector(".create-project"),l=document.querySelector(".modal-project"),c=document.querySelector(".project-list"),d=document.querySelector(".close-modal-task"),r=document.querySelector(".close-modal-project"),o=document.querySelector(".main-place"),a=document.querySelector(".form-project"),s=document.querySelector(".modal-task"),u=document.querySelector(".form-task");let m=document.querySelector("table"),p=document.createElement("div");const y=document.createElement("button");y.innerText="+",o.appendChild(p),o.appendChild(y),y.style.visibility="hidden",o.appendChild(m);let v=" ";function b(){l.style.visibility="hidden",a.reset()}function L(){s.style.visibility="hidden",u.reset()}n(t),c.addEventListener("click",(function(n){if(n.target.classList.contains("project_element")){const l=n.target.getAttribute("data-index");p.innerHTML=" ",m.innerHTML=" ",v=t[l],p.innerText=v.title,i=v,y.style.visibility="visible",e(i),o.appendChild(y),y.addEventListener("click",(()=>{s.style.visibility="visible"})),d.addEventListener("click",L)}var i})),c.addEventListener("click",(function(e){if(e.target.classList.contains("delete_button")){const n=e.target.parentNode;n.remove();const i=n.getAttribute("data-index");t.splice(i,1)}})),i.addEventListener("click",(()=>{l.style.visibility="visible"})),r.addEventListener("click",b),l.addEventListener("submit",(e=>{e.preventDefault();const i=function(e){const t=[];return{title:e,taskarray:t,addTask:function(e,n,i,l){t.push(function(e,t,n,i){return{title:e,description:t,dueDate:n,importance:i,setImportance:function(e){this.importance=e}}}(e,n,i,l))},deleteTask:function(e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}}}(document.getElementById("title").value);t.push(i),n(t),b()})),s.addEventListener("submit",(t=>{t.preventDefault();let n=document.getElementById("name").value,i=document.getElementById("description").value,l=document.getElementById("due-date").value,c=document.getElementById("importance").value;v.addTask(n,i,l,c),L(),e(v)}))}()})();